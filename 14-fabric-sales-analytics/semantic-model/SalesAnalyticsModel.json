{
  "name": "SalesAnalyticsModel",
  "tables": [
    {
      "name": "vw_dim_customer",
      "description": "Customer dimension sourced from Gold dim_customer.",
      "columns": [
        { "name": "customer_key", "dataType": "Int64", "isHidden": false, "description": "Surrogate key for the customer." },
        { "name": "customer_id", "dataType": "String", "description": "Business/customer identifier from source system." },
        { "name": "first_name", "dataType": "String" },
        { "name": "last_name", "dataType": "String" },
        { "name": "address_line_1", "dataType": "String" },
        { "name": "address_line_2", "dataType": "String" },
        { "name": "city", "dataType": "String" },
        { "name": "state_province", "dataType": "String" },
        { "name": "country", "dataType": "String" },
        { "name": "postal_code", "dataType": "String" }
      ]
    },
    {
      "name": "vw_dim_product",
      "description": "Product dimension sourced from Gold dim_product.",
      "columns": [
        { "name": "product_key", "dataType": "Int64", "isHidden": false, "description": "Surrogate key for the product." },
        { "name": "product_id", "dataType": "String" },
        { "name": "product_name", "dataType": "String" },
        { "name": "product_number", "dataType": "String" },
        { "name": "color", "dataType": "String" },
        { "name": "standard_cost", "dataType": "Double" },
        { "name": "list_price", "dataType": "Double" },
        { "name": "size", "dataType": "String" },
        { "name": "weight", "dataType": "Double" },
        { "name": "category", "dataType": "String" },
        { "name": "subcategory", "dataType": "String" }
      ]
    },
    {
      "name": "vw_fact_sales",
      "description": "Sales fact table sourced from Gold fact_sales.",
      "columns": [
        { "name": "sales_key", "dataType": "Int64", "isHidden": false, "description": "Surrogate key for the sales row." },
        { "name": "order_id", "dataType": "String" },
        { "name": "order_date", "dataType": "DateTime" },
        { "name": "customer_key", "dataType": "Int64" },
        { "name": "product_key", "dataType": "Int64" },
        { "name": "quantity", "dataType": "Int32" },
        { "name": "unit_price", "dataType": "Double" },
        { "name": "discount", "dataType": "Double" },
        { "name": "line_total", "dataType": "Double" }
      ],
      "measures": [
        {
          "name": "Total Sales",
          "expression": "SUM ( vw_fact_sales[line_total] )",
          "formatString": "#,0.00",
          "description": "Total sales amount."
        },
        {
          "name": "Total Quantity",
          "expression": "SUM ( vw_fact_sales[quantity] )",
          "formatString": "#,0",
          "description": "Total quantity sold."
        },
        {
          "name": "Average Order Value",
          "expression": "DIVIDE ( [Total Sales], DISTINCTCOUNT ( vw_fact_sales[order_id] ) )",
          "formatString": "#,0.00",
          "description": "Average sales per order."
        }
      ]
    }
  ],
  "relationships": [
    {
      "name": "Fact_to_DimCustomer",
      "fromTable": "vw_fact_sales",
      "fromColumn": "customer_key",
      "toTable": "vw_dim_customer",
      "toColumn": "customer_key",
      "crossFilteringBehavior": "OneDirection",
      "relationshipType": "ManyToOne"
    },
    {
      "name": "Fact_to_DimProduct",
      "fromTable": "vw_fact_sales",
      "fromColumn": "product_key",
      "toTable": "vw_dim_product",
      "toColumn": "product_key",
      "crossFilteringBehavior": "OneDirection",
      "relationshipType": "ManyToOne"
    }
  ]
}