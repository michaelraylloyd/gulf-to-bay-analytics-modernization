# gold-schema.json

This schema defines the canonical structure of the Gold layer star schema, including the customer, product, and date dimensions, as well as the curated sales fact table. It enforces deterministic typing, establishes surrogate key patterns, and ensures that all downstream semantic models operate on a stable, analytics‑ready foundation.

The schema is referenced by both the Gold modeling notebook and the pipeline‑ready script to guarantee consistent execution across development and automated orchestration environments.

{
  "dimensions": {
    "customer": {
      "fields": [
        { "name": "customer_key", "type": "long", "nullable": false },
        { "name": "customer_id", "type": "string", "nullable": true }
      ]
    },
    "product": {
      "fields": [
        { "name": "product_key", "type": "long", "nullable": false },
        { "name": "product_id", "type": "string", "nullable": true }
      ]
    },
    "date": {
      "fields": [
        { "name": "date_key", "type": "long", "nullable": false },
        { "name": "order_timestamp", "type": "timestamp", "nullable": true },
        { "name": "year", "type": "integer", "nullable": true },
        { "name": "month", "type": "integer", "nullable": true },
        { "name": "day", "type": "integer", "nullable": true },
        { "name": "hour", "type": "integer", "nullable": true }
      ]
    }
  },
  "fact_sales": {
    "fields": [
      { "name": "customer_key", "type": "long", "nullable": true },
      { "name": "product_key", "type": "long", "nullable": true },
      { "name": "date_key", "type": "long", "nullable": true },
      { "name": "quantity", "type": "integer", "nullable": true },
      { "name": "unit_price", "type": "double", "nullable": true },
      { "name": "total_amount", "type": "double", "nullable": true }
    ]
  }
}